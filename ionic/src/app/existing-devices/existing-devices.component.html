<ion-header translucent>
  <ion-toolbar>
    <ion-title text-center>
      Import Device
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <div *ngIf="!(alldevices && alldevices.length)">
    No Devices Found!
  </div>
  <ion-list *ngIf="alldevices && alldevices.length">
 
    <ion-card *ngFor="let devices of alldevices" [class.selected]="devices === selectedDevices">
      <ion-list class="border">
        <ion-item class="border">
          <ion-icon slot="start" *ngIf="devices && devices.type !='access'" name="swap" color="primary"></ion-icon>
          <ion-icon slot="start" *ngIf="devices && devices.type =='access'" color="primary"  name="infinite"></ion-icon>
          <ion-label color="primary" *ngIf="devices['meta']">{{devices.meta.name}}</ion-label>
          <ion-checkbox slot="end" [ngModel]="devices.status" color="primary" (ionChange)="onSelect(devices)"></ion-checkbox>
        </ion-item>
      </ion-list>

      <ion-list>
        <ion-item>
          <div class="content">
            <p size="12">
              <b>
                <span size="4">Device ID:</span>
              </b>
              <span *ngIf="devices['meta']">{{devices.chip_id}}</span>
            </p>
            <div *ngIf="devices['meta']">
            <p *ngIf="devices.meta.switches.length > 0">
                <span> {{devices.meta.switches.length}}</span>
              </p>
            </div>
            <ion-icon sloat="end" (click)="deleteDevices(devices.user_id,devices.chip_id)" mode="md" name="trash">delete</ion-icon>
          </div>
        </ion-item>
      </ion-list>
      <ion-list>
      </ion-list>
    </ion-card>
  </ion-list>
  <ion-col>
    <ion-button (click)="importDevices()" class="scanDevices" expand="block" color="primary">
      {{loading ? '' : 'Import'}}
      <ion-spinner *ngIf="loading" name="bubbles"></ion-spinner>
    </ion-button>
  </ion-col>
  <p text-center class="text-decorater">
    <a routerLink="/tabs">Skip</a>
  </p>
</ion-content>
<ion-header>
  <ion-toolbar mode="ios">
    <ion-icon slot="start" menuToggle (click)="menu()" color="secondry" mode="md" class="menu" name="menu"> </ion-icon>
    <ion-title>
      Home
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content padding>
  <div *ngIf="mode === 'device'">
    <ion-row>
      <div class="devices" *ngIf="devices.length">
        <h3>Your Switches</h3>
      </div>
    </ion-row>
    <div class="content">
      <ion-grid>
        <ion-row  align-items-start>
          <ion-col   size="12">
            <ion-list class="switchList" no-padding no-margin no-lines *ngFor="let device of devices;  trackBy: trackByDevice">
              <ion-item class=" grid "*ngFor="let switch of device.switches;trackBy: trackBySwitch; let i = index"  [ngClass]="{'blue' : switch.status}">
                <ion-icon slot="start" mode="ios" name="bulb"></ion-icon>{{(switch.name && switch.name.length) ? switch.name : 'Switch ' + (i+1) }}
                <ion-buttons slot="start">
                  <ion-button slot="icon-only" (click)="switchOn(switch,device)" *ngIf="switch.status === 0" color="medium">
                    <ion-icon name="power" mod="md"></ion-icon>
                  </ion-button>
                  <ion-button slot="icon-only" (click)="switchOff(switch,device)" *ngIf="switch.status === 1" color="dark">
                    <ion-icon name="power" mod="ios"></ion-icon>
                  </ion-button>
                </ion-buttons>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
</ion-content>